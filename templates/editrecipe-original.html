{% extends 'base.html' %} {% block recipes %}
<div class="container">
  <h3>Edit Recipe</h3>

<div class="row">
    <form action="{{ url_for('update_recipe', recipe_id=recipe._id) }}" method="POST" class="col s12">
        <div class="row">
            <div class="input-field col s12">
                <i class="material-icons prefix">create</i>
                <input id="recipe_name" name="recipe_name" type="text" class="validate" value="{{recipe.recipe_name}}">
                <label for="icon_prefix">Recipe Name</label>
                <span class="helper-text" data-error="wrong" data-success="right">What is the name of your recipe</span>
            </div>
        </div>
      
        <div class="row">
            <div class="input-field col s12">
                <i class="material-icons prefix">subject</i>
                <textarea id="textarea2" name="overview" class="materialize-textarea validate" data-length="150">{{recipe.overview}}</textarea>
                <label for="overview">Short Description</label>
                <span class="helper-text" data-error="wrong" data-success="right">Brief description of your recipe (max characters 150)</span>
            </div>
        </div>
        
      <div class="row">
        <div class="file-field input-field col s6">
          <div class="btn">
            <span>Image</span>
            <input type="file">
          </div>
          <div class="file-path-wrapper">
            <input class="file-path validate" name="image" type="text" value="{{recipe.image}}">
          </div>
        </div>
      </div>

      <div class="row">
        <div class="input-field col s6">
          <i class="material-icons prefix">star</i>
          <select class="icons" name="rating">
                  <option value="" disabled selected>Choose your rating</option>
                  <option value="1" data-icon="images/sample-1.jpg" class="left">1 Star</option>
                  <option value="2" data-icon="images/office.jpg" class="left">2 Stars</option>
                  <option value="3" data-icon="images/yuna.jpg" class="left">3 Stars</option>
                  <option value="4" data-icon="images/yuna.jpg" class="left">4 Stars</option>
                  <option value="5" data-icon="images/yuna.jpg" class="left">5 Stars</option>                  
                </select>
          <label>Rating</label>
        </div>

        <div class="input-field col s6">
          <i class="material-icons prefix">restaurant</i>
          <select class="icons" name="serves">
                  <option value="" disabled selected>Serves</option>
                  {% for rat in ratings %}
                    {% if rat.rating == rat.rating %}
                      <option value="{{rat.rating}}" selected >{{rat.rating}}</option>
                    {% else %}
                      <option value="{{rat.rating}}">{{rat.rating}}</option>
                    {% endif %}  
                  {% endfor %}  
                </select>
          <label>Serves</label>
        </div>
      </div>

      <div class="row">
        <div class="input-field col s6">
          <i class="material-icons prefix">local_dining</i>
          <select multiple name="required_tools">
                <option value="" disabled selected>Choose tools</option>
                <option value="Pan">Pan</option>
                <option value="Grater">Grater</option>
                <option value="Knife">Knife</option>
                <option value="Peeler">Peeler</option>      
                <option value="Masher">Masher</option>      
                <option value="Pie dish">Pie dish</option>      
              </select>
          <label>Required Tools</label>
        </div>

        <div class="input-field col s6">
          <i class="material-icons prefix">flag</i>
          <select name="nationality_name">
                        <option value="" disabled selected>Choose the nationality</option>
                                  {% for nat in nationality %}
                                   {% if nat.nationality_name == nat.nationality_name%}
                                      <option value="{{nat.nationality_name}}" selected >{{nat.nationality_name}}</option>
                                      {% else %}
                                      <option value="{{nat.nationality_name}}">{{nat.nationality_name}}</option>
                                    {% endif %}
                                  {% endfor %}        
                      </select>
          <label>Nationality of Recipe</label>
        </div>
      </div>

      <div class="row">
        <div class="col s6">
          <i class="material-icons prefix">watch_later</i> 
          <div class="input-field inline">
            <input type="number" id="prep_time" name="prep_time" min="1" max="180" value="{{recipe.prep_time}}">
            <label for="prep_time">Prep time</label>
            <span class="helper-text" data-error="wrong" data-success="right">Enter the preperation time in minutes, if prep time is 2 hours, please enter 120</span>
          </div>
        </div>

        <div class="col s6">
          <i class="material-icons prefix">watch_later</i>
          <div class="input-field inline">
            <input type="number" id="cook_time" name="cook_time" min="1" max="180" value="{{recipe.cook_time}}">
            <label for="cook_time">Cook time</label>
            <span class="helper-text" data-error="wrong" data-success="right"> Enter the cooking time in minutes, if cooking time is 2 hours, please enter 120</span>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="input-field col s12">
          <i class="material-icons prefix">shopping_basket</i>
          <textarea id="ingredients" name="ingredients" class="materialize-textarea">{{recipe.ingredients}}</textarea>
          <label for="textarea1">Ingredients</label>
        </div>
      </div>

      <div class="row">
        <div class="input-field col s12">
          <i class="material-icons prefix">assignment</i>
          <textarea id="method" name="method" class="materialize-textarea">{{recipe.method}}</textarea>
          <label for="textarea1">Method</label>
        </div>
      </div>

  </div>
  
        <div class="row">
    <button class="btn waves-effect waves-light" type="submit" >Edit Recipe
    <i class="material-icons right">send</i>
  </button>
  </div>
  
  
  
  
  </form>
</div>
</div>
{% endblock %}